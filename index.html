<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prologue</title>
    <!-- Base styles -->
    <link rel="stylesheet" href="style.css">
    <!-- Component CSS with menu styling -->
    <link rel="stylesheet" href="css/components/index.css">
    <!-- Add FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Add Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <a href="#main" class="skip-link">Skip to main content</a>
    <header>
        <div class="logo-container">
            <img src="images/spade-logo.webp" alt="Spade Logo" class="surface-logo" loading="lazy">
        </div>
        <a href="#main-nav" id="menu-toggle" aria-label="Open Menu" aria-expanded="false" aria-controls="main-nav">
            <span class="hamburger"></span>
        </a>
        <nav id="main-nav" role="navigation" aria-label="Main navigation">
            <a href="#home"><i class="fas fa-home menu-icon"></i>Home</a>
            <a href="#schedule"><i class="fas fa-calendar-alt menu-icon"></i>Schedule</a>
            <a href="#course"><i class="fas fa-map-marked-alt menu-icon"></i>Course</a>
            <a href="tech-guide.html"><i class="fas fa-file-pdf menu-icon"></i>Tech Guide</a>
            <!-- Sound toggle button removed, but keep hidden elements for sound functionality -->
            <span id="sound-toggle" class="sound-control hidden" style="display: none;" aria-hidden="true">
                <i id="sound-icon" class="fa fa-volume-mute"></i>
            </span>
        </nav>
        <div class="audio-promo-container compact">
            <button class="audio-play-btn" aria-label="Play Course Outline" tabindex="0">
                <i class="fas fa-play"></i>
            </button>
            <span class="audio-text"><span class="listen-emoji" aria-label="Listen">ðŸŽ§</span> Course Outline</span>
            <audio id="race-day-audio" preload="none" style="display:none;">
                <source src="sounds/crosstoberfest.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
    </header>

    <main id="main" role="main">
        <section id="home" class="hero section-grid">
            <div class="hero-bg-side"></div>
            <div class="hero-content-side">
                <h1>Prologue</h1>
                <h2>Cyclocross Race</h2>
                <p class="location">Uxbridge</p>
                
                <!-- Add countdown timer -->
                <div class="countdown-container">
                    <h3 class="countdown-title">Race Day Countdown</h3>
                    <div class="countdown-timer">
                        <div class="countdown-item">
                            <span id="countdown-days">00</span>
                            <span class="countdown-label">Days</span>
                        </div>
                        <div class="countdown-item">
                            <span id="countdown-hours">00</span>
                            <span class="countdown-label">Hours</span>
                        </div>
                        <div class="countdown-item">
                            <span id="countdown-minutes">00</span>
                            <span class="countdown-label">Minutes</span>
                        </div>
                        <div class="countdown-item">
                            <span id="countdown-seconds">00</span>
                            <span class="countdown-label">Seconds</span>
                        </div>
                    </div>
                </div>
                
                <!-- Remove the Tech Guide button below the timer -->
                <!-- <a href="tech-guide.html" class="cta-button">...</a> -->
            </div>
        </section>

        <div class="section-divider tight"></div>

        <section class="sponsors">
            <div class="sponsor-logos">
                <a href="https://www.peterboroughcc.com/" target="_blank" rel="noopener"><img src="images/PCC_Logo-459w.webp" alt="PCC Logo" class="sponsor-logo left" loading="lazy"></a>
                <a href="https://www.exodusgraphics.com/" target="_blank" rel="noopener"><img src="images/exodus.jpg" alt="Exodus Logo" class="sponsor-logo center" loading="lazy"></a>
                <a href="https://www.uxbridgecycling.com/" target="_blank" rel="noopener"><img src="images/UCC-logo.webp" alt="UCC Logo" class="sponsor-logo right" loading="lazy"></a>
            </div>
        </section>

        <div class="section-divider tight"></div>

        <section id="schedule">
            <h2>Schedule</h2>
            <h3>Sunday, September 21, 2025</h3>
            <div class="schedule-grid">
                <div class="schedule-item">
                    <div class="event-time"><b>TBD</b></div>
                    <div class="event-description">Elite</div>
                </div>
                <div class="schedule-item">
                    <div class="event-time"><b>TBD</b></div>
                    <div class="event-description">Masters</div>
                </div>
                <div class="schedule-item">
                    <div class="event-time"><b>TBD</b></div>
                    <div class="event-description">Youth</div>
                </div>
                <div class="schedule-item">
                    <div class="event-time"><b>TBD</b></div>
                    <div class="event-description">Child</div>
                </div>
                <div class="schedule-item">
                    <div class="event-time"><b>TBD</b></div>
                    <div class="event-description">Try a cross - untimed</div>
                </div>
            </div>
        </section>

        <div class="section-divider tight"></div>

        <section id="course">
            <h2>The Course</h2>
            <p><b>Ready to Play Your Hand?</b></p>
            <p>Are you looking to get the <b>upper hand</b> before the cyclocross season officially begins? <b>Prologue Cyclocross will increase the odds that you Ace Your Next Race</b>; it's where you'll test your skills and get a feel for the competition.</p>
            <p>Join us on <b>Sunday, September 21, 2025</b>, in the Durham region, conveniently located just 10 minutes west of Uxbridge and one hour north of Toronto.</p>
            <p>Our technically challenging course, created by director Jeff Faulds, is set across 80 acres of beautiful rolling forest. <b>Play your hand</b> on varied terrain that includes hills, run-ups, sand, and sections requiring dismounting and shouldering.</p>
            <p>Experience a <b>UCI style "Start-Finish line"</b> with the iconic Eric Prydz's OPUS music playing, just like at Koppenbergcross. Spectators and riders can enjoy non-alcoholic "Athletic" beer and hot potato fries with mayo from our Chip Truck, European-style.</p>
            <p>Whether you're a seasoned pro or new to CX, <b>everyone is welcome to play</b>. We offer a beginner-friendly, non-competitive category specifically to encourage participation from all skill levels. Families are encouraged to participate with a child race mid-day for kids on striders and child bikes, complete with a podium. Don't have a CX bike? You can still <b>try your hand</b>! We'll have rental gravel bikes on hand or other options to borrow or rent.</p>
            <p>Affiliated with both the Peterborough Cycling Club and the local Uxbridge Cycling Club.<br>
            <b>Ante up</b> and join us for a day of thrilling cyclocross action and fun!</p>
            
            <div class="interactive-map-container">
                <img src="images/prologue-course-map.png" alt="Prologue Course Map" class="course-map" loading="lazy">
                
                <!-- Overlay hotspots -->
                <div class="map-hotspots">
                    <button class="hotspot" data-section="start-finish" aria-label="Show info for Start/Finish Line">
                        <span class="hotspot-dot"></span>
                    </button>
                    <button class="hotspot" data-section="sand-pit" aria-label="Show info for Sand Pit Challenge">
                        <span class="hotspot-dot"></span>
                    </button>
                    <button class="hotspot" data-section="run-up" aria-label="Show info for Forest Run-Up">
                        <span class="hotspot-dot"></span>
                    </button>
                    <button class="hotspot" data-section="technical" aria-label="Show info for Technical Descent">
                        <span class="hotspot-dot"></span>
                    </button>
                </div>
                
                <!-- Information panel that appears when clicking hotspots -->
                <div class="map-info-panel">
                    <button class="info-close" aria-label="Close info panel">Ã—</button>
                    <div class="info-content" id="start-finish">
                        <h4>Start/Finish Line</h4>
                        <p>Experience the UCI-style start/finish straight with Eric Prydz's OPUS playing, just like at Koppenbergcross!</p>
                    </div>
                    <div class="info-content" id="sand-pit">
                        <h4>Sand Pit Challenge</h4>
                        <p>Test your skills in our challenging sand section. Ride or run? The choice is yours!</p>
                    </div>
                    <div class="info-content" id="run-up">
                        <h4>Forest Run-Up</h4>
                        <p>A steep run-up through beautiful forest terrain will test your shouldering technique and strength.</p>
                    </div>
                    <div class="info-content" id="technical">
                        <h4>Technical Descent</h4>
                        <p>Navigate tight turns and off-camber sections in this technical part of the course.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Prologue. All rights reserved.</p>
    </footer>
    
    <!-- Keep only the click sound - no preload/autoplay -->
    <audio id="click-sound" preload="none">
        <source src="sounds/click.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Load the non-module fallback first -->
    <!-- <script src="js/directAnimations.js"></script> -->
    
    <!-- Load our animation bridge to expose functions -->
    <script type="module" src="js/animationBridge.js"></script>
    
    <!-- Load our modular JavaScript -->
    <script type="module" src="js/main.js"></script>
    
    <!-- Load non-modular script (for backwards compatibility) -->
    <script src="script.js"></script>

    <!-- Loading Spinner -->
    <div id="main-loading-spinner" class="loading-spinner" aria-live="polite" aria-busy="true">
        <div class="spinner"></div>
        <span class="sr-only">Loading contentâ€¦</span>
    </div>

    <script>
        // Hide spinner when main content is loaded
        window.addEventListener('DOMContentLoaded', function() {
            document.getElementById('main-loading-spinner').style.display = 'none';
        });
    </script>
</body>
</html> 